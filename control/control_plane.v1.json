{
  "version": "1.0",
  "paths": {
    "run_dir": "~/.yai/run/<ws>/",
    "control_socket": "~/.yai/run/<ws>/control.sock",
    "lock_file": "~/.yai/run/<ws>/lock",
    "daemon_pid": "~/.yai/run/<ws>/daemon.pid",
    "session_file": "~/.yai/run/<ws>/session.json",
    "runtime_socket": "/tmp/yai_runtime_<ws>.sock"
  },
  "rpc": {
    "transport": "uds",
    "framing": "json_lines",
    "envelope": "rpc.v1",
    "requests": [
      "ping",
      "protocol_handshake",
      "status",
      "up",
      "down",
      "providers_discover",
      "providers_list",
      "providers_pair",
      "providers_attach",
      "providers_detach",
      "providers_status",
      "providers_revoke",
      "dsar_request",
      "dsar_status",
      "dsar_execute",
      "chat_sessions_list",
      "chat_session_new",
      "chat_session_select",
      "chat_history",
      "chat_send",
      "shell_exec",
      "events_subscribe"
    ],
    "responses": [
      "pong",
      "protocol_handshake_ok",
      "status",
      "up_ok",
      "down_ok",
      "providers",
      "provider_status",
      "providers_ok",
      "dsar_created",
      "dsar_state",
      "dsar_executed",
      "chat_sessions",
      "chat_session",
      "chat_history",
      "chat_sent",
      "shell_exec_result",
      "events_started",
      "event",
      "error"
    ]
  },
  "process_group": {
    "mode": "single_pgid",
    "kill_order": [
      "killpg(SIGTERM)",
      "wait",
      "killpg(SIGKILL)",
      "individual_pids"
    ]
  },
  "authority": {
    "workspace_scoped": true,
    "lock_required": true,
    "privileged_gate": {
      "arming_required": true,
      "role_required": "operator",
      "authority_ref": "staged"
    },
    "audit_required": true
  }
}
